<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tip Calculator</title>
<style>
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
  :root {
    --bg: #0f1117; --surface: #1a1d27; --surface2: #22263a; --border: #2e3352;
    --accent: #7c6af7; --text: #e2e8f0; --muted: #8892b0;
    --success: #56d4a0; --warn: #f78c6c;
  }
  body { background: var(--bg); color: var(--text); font-family: 'Segoe UI', system-ui, sans-serif; min-height: 100vh; display: flex; flex-direction: column; }
  header { padding: 1.25rem 2rem; border-bottom: 1px solid var(--border); display: flex; align-items: center; gap: 1rem; flex-wrap: wrap; }
  header h1 { font-size: 1.25rem; font-weight: 700; color: var(--accent); }
  header span { color: var(--muted); font-size: 0.875rem; }
  .main { flex: 1; display: grid; grid-template-columns: 380px 1fr; gap: 0; }
  .sidebar { border-right: 1px solid var(--border); padding: 1.5rem; display: flex; flex-direction: column; gap: 1.25rem; overflow-y: auto; }
  .section-title { font-size: 0.75rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.06em; color: var(--muted); margin-bottom: 0.75rem; }
  .input-group { display: flex; flex-direction: column; gap: 0.5rem; }
  .input-row { display: flex; align-items: center; gap: 0.5rem; background: var(--surface2); border: 1px solid var(--border); border-radius: 8px; padding: 0 0.75rem; }
  .input-row:focus-within { border-color: var(--accent); }
  .currency-sym { font-size: 1rem; color: var(--muted); flex-shrink: 0; }
  input[type=number] {
    flex: 1; background: transparent; border: none; outline: none; color: var(--text);
    font-size: 1.05rem; padding: 0.65rem 0; min-width: 0;
  }
  .tip-buttons { display: grid; grid-template-columns: repeat(5, 1fr); gap: 0.4rem; }
  .tip-btn {
    padding: 0.5rem 0.25rem; border-radius: 7px; border: 1px solid var(--border);
    background: var(--surface2); color: var(--text); font-size: 0.85rem; font-weight: 600;
    cursor: pointer; transition: all 0.15s; text-align: center;
  }
  .tip-btn:hover, .tip-btn.active { background: var(--accent); border-color: var(--accent); color: #fff; }
  .custom-tip-row { display: flex; align-items: center; gap: 0.5rem; }
  .custom-tip-row input[type=number] {
    flex: 1; padding: 0.5rem 0.75rem; background: var(--surface2); border: 1px solid var(--border);
    border-radius: 7px; color: var(--text); font-size: 0.9rem; outline: none;
  }
  .custom-tip-row input:focus { border-color: var(--accent); }
  .slider-group { display: flex; flex-direction: column; gap: 0.5rem; }
  .slider-label { display: flex; justify-content: space-between; font-size: 0.85rem; }
  .slider-label span { color: var(--accent); font-weight: 700; }
  input[type=range] { width: 100%; accent-color: var(--accent); }
  .option-label { font-size: 0.85rem; color: var(--muted); display: flex; align-items: center; gap: 0.4rem; cursor: pointer; }
  .option-label input { accent-color: var(--accent); }
  .currency-select { padding: 0.45rem 0.75rem; background: var(--surface2); border: 1px solid var(--border); border-radius: 6px; color: var(--text); font-size: 0.85rem; outline: none; cursor: pointer; }
  /* Results */
  .content { padding: 1.5rem; display: flex; flex-direction: column; gap: 1rem; }
  .results-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }
  .result-card { background: var(--surface); border: 1px solid var(--border); border-radius: 12px; padding: 1.25rem; text-align: center; }
  .result-card.highlight { border-color: var(--accent); background: rgba(124,106,247,0.08); }
  .result-label { font-size: 0.75rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.05em; color: var(--muted); margin-bottom: 0.5rem; }
  .result-value { font-size: 2rem; font-weight: 900; color: var(--text); line-height: 1; }
  .result-card.highlight .result-value { color: var(--accent); }
  .result-sub { font-size: 0.75rem; color: var(--muted); margin-top: 0.3rem; }
  .breakdown-card { background: var(--surface); border: 1px solid var(--border); border-radius: 12px; padding: 1.25rem; }
  .breakdown-title { font-size: 0.75rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.05em; color: var(--muted); margin-bottom: 1rem; }
  .breakdown-row { display: flex; justify-content: space-between; align-items: center; padding: 0.5rem 0; border-bottom: 1px solid var(--border); font-size: 0.9rem; }
  .breakdown-row:last-child { border-bottom: none; font-weight: 700; font-size: 1rem; }
  .breakdown-row .label { color: var(--muted); }
  .breakdown-row .value { font-weight: 600; }
  @media (max-width: 700px) { .main { grid-template-columns: 1fr; } .sidebar { border-right: none; border-bottom: 1px solid var(--border); } .results-grid { grid-template-columns: 1fr; } }
</style>
</head>
<body>
<header>
  <h1>$ Tip Calculator</h1>
  <span>Bill splitter &amp; tip calculator</span>
</header>
<div class="main">
  <div class="sidebar">
    <!-- Currency -->
    <div>
      <div class="section-title">Currency</div>
      <select class="currency-select" id="currency" onchange="calc()">
        <option value="$">$ USD</option>
        <option value="€">€ EUR</option>
        <option value="£">£ GBP</option>
        <option value="¥">¥ JPY</option>
        <option value="C$">C$ CAD</option>
        <option value="A$">A$ AUD</option>
      </select>
    </div>

    <!-- Bill amount -->
    <div class="input-group">
      <div class="section-title">Bill Amount</div>
      <div class="input-row">
        <span class="currency-sym" id="sym">$</span>
        <input type="number" id="bill" placeholder="0.00" min="0" step="0.01" oninput="calc()">
      </div>
    </div>

    <!-- Tax -->
    <div class="input-group">
      <div class="section-title">Tax (optional)</div>
      <div class="input-row">
        <input type="number" id="tax" placeholder="0.00" min="0" step="0.01" oninput="calc()">
        <span class="currency-sym">%</span>
      </div>
    </div>

    <!-- Tip -->
    <div>
      <div class="section-title">Tip Percentage</div>
      <div class="tip-buttons">
        <button class="tip-btn" onclick="setTip(10)">10%</button>
        <button class="tip-btn" onclick="setTip(15)">15%</button>
        <button class="tip-btn active" onclick="setTip(18)">18%</button>
        <button class="tip-btn" onclick="setTip(20)">20%</button>
        <button class="tip-btn" onclick="setTip(25)">25%</button>
      </div>
      <div class="custom-tip-row" style="margin-top:0.5rem;">
        <span style="font-size:0.85rem;color:var(--muted);">Custom:</span>
        <input type="number" id="customTip" placeholder="e.g. 22" min="0" max="100" oninput="setCustomTip()">
        <span style="font-size:0.85rem;color:var(--muted);">%</span>
      </div>
    </div>

    <!-- People -->
    <div>
      <div class="section-title">Number of People</div>
      <div class="slider-group">
        <div class="slider-label"><span id="peopleLabel">1 person</span></div>
        <input type="range" id="people" min="1" max="20" value="1" oninput="updatePeopleLabel();calc()">
      </div>
    </div>

    <!-- Options -->
    <div style="display:flex;flex-direction:column;gap:0.5rem;">
      <label class="option-label">
        <input type="checkbox" id="roundUp" onchange="calc()"> Round up per-person amount
      </label>
    </div>
  </div>

  <div class="content">
    <div class="results-grid">
      <div class="result-card highlight">
        <div class="result-label">Per Person</div>
        <div class="result-value" id="perPerson">$0.00</div>
        <div class="result-sub">including tip</div>
      </div>
      <div class="result-card highlight">
        <div class="result-label">Tip Per Person</div>
        <div class="result-value" id="tipPerPerson">$0.00</div>
        <div class="result-sub" id="tipPctDisplay">18% tip</div>
      </div>
      <div class="result-card">
        <div class="result-label">Total Tip</div>
        <div class="result-value" id="totalTip">$0.00</div>
        <div class="result-sub">for everyone</div>
      </div>
      <div class="result-card">
        <div class="result-label">Total Bill</div>
        <div class="result-value" id="totalBill">$0.00</div>
        <div class="result-sub">tip + tax included</div>
      </div>
    </div>

    <div class="breakdown-card">
      <div class="breakdown-title">Breakdown</div>
      <div class="breakdown-row"><span class="label">Bill subtotal</span><span class="value" id="b-subtotal">$0.00</span></div>
      <div class="breakdown-row"><span class="label">Tax</span><span class="value" id="b-tax">$0.00</span></div>
      <div class="breakdown-row"><span class="label">Tip (<span id="b-tipPct">18</span>%)</span><span class="value" id="b-tip">$0.00</span></div>
      <div class="breakdown-row"><span class="label">Total</span><span class="value" id="b-total">$0.00</span></div>
      <div class="breakdown-row"><span class="label">Split <span id="b-people">1</span> way(s)</span><span class="value" id="b-per">$0.00</span></div>
    </div>
  </div>
</div>

<script>
let tipPct = 18;

function setTip(pct) {
  tipPct = pct;
  document.getElementById('customTip').value = '';
  document.querySelectorAll('.tip-btn').forEach(b => b.classList.toggle('active', b.textContent === pct + '%'));
  calc();
}

function setCustomTip() {
  const v = parseFloat(document.getElementById('customTip').value);
  if (!isNaN(v) && v >= 0) {
    tipPct = v;
    document.querySelectorAll('.tip-btn').forEach(b => b.classList.remove('active'));
    calc();
  }
}

function updatePeopleLabel() {
  const n = parseInt(document.getElementById('people').value);
  document.getElementById('peopleLabel').textContent = n === 1 ? '1 person' : `${n} people`;
}

function fmt(val) {
  const sym = document.getElementById('currency').value;
  document.getElementById('sym').textContent = sym;
  return sym + val.toFixed(2);
}

function calc() {
  const sym = document.getElementById('currency').value;
  document.getElementById('sym').textContent = sym;
  const bill = parseFloat(document.getElementById('bill').value) || 0;
  const taxPct = parseFloat(document.getElementById('tax').value) || 0;
  const people = parseInt(document.getElementById('people').value) || 1;
  const roundUp = document.getElementById('roundUp').checked;

  const taxAmt = bill * (taxPct / 100);
  const billWithTax = bill + taxAmt;
  const tipAmt = billWithTax * (tipPct / 100);
  const total = billWithTax + tipAmt;
  let perPerson = total / people;
  if (roundUp) perPerson = Math.ceil(perPerson * 100) / 100;
  const tipPer = tipAmt / people;

  document.getElementById('perPerson').textContent = fmt(perPerson);
  document.getElementById('tipPerPerson').textContent = fmt(tipPer);
  document.getElementById('tipPctDisplay').textContent = tipPct + '% tip';
  document.getElementById('totalTip').textContent = fmt(tipAmt);
  document.getElementById('totalBill').textContent = fmt(total);

  document.getElementById('b-subtotal').textContent = fmt(bill);
  document.getElementById('b-tax').textContent = fmt(taxAmt);
  document.getElementById('b-tipPct').textContent = tipPct;
  document.getElementById('b-tip').textContent = fmt(tipAmt);
  document.getElementById('b-total').textContent = fmt(total);
  document.getElementById('b-people').textContent = people;
  document.getElementById('b-per').textContent = fmt(perPerson);
}

updatePeopleLabel();
calc();
</script>
</body>
</html>
